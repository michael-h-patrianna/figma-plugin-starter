var a=Object.defineProperty,_=Object.defineProperties,O=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var u=(e,o,r)=>o in e?a(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,l=(e,o)=>{for(var r in o||(o={}))f.call(o,r)&&u(e,r,o[r]);if(p)for(var r of p(o))P.call(o,r)&&u(e,r,o[r]);return e},d=(e,o)=>_(e,y(o));var i=(e,o)=>()=>(e&&(o=e(e=0)),o);var C=(e,o)=>{for(var r in o)a(e,r,{get:o[r],enumerable:!0})},T=(e,o,r,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of A(o))!f.call(e,n)&&n!==r&&a(e,n,{get:()=>o[n],enumerable:!(t=O(o,n))||t.enumerable});return e};var D=e=>T(a({},"__esModule",{value:!0}),e);function c(e,o){if(typeof __html__=="undefined")throw new Error("No UI defined");let r=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof o=="undefined"?{}:o)};${__html__}</script>`;figma.showUI(r,d(l({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var g=i(()=>{});var E=i(()=>{g()});var I=i(()=>{"use strict"});function x(e){return e.some(o=>o.level==="error")}var s,m,N=i(()=>{"use strict";s={NO_SELECTION:"NO_SELECTION",INVALID_SELECTION:"INVALID_SELECTION",UNSUPPORTED_NODE_TYPE:"UNSUPPORTED_NODE_TYPE",PROCESSING_FAILED:"PROCESSING_FAILED",INVALID_DATA:"INVALID_DATA",MISSING_PROPERTY:"MISSING_PROPERTY",UNKNOWN_ERROR:"UNKNOWN_ERROR",PERMISSION_DENIED:"PERMISSION_DENIED",NETWORK_ERROR:"NETWORK_ERROR"},m={noSelection(){return{code:s.NO_SELECTION,message:"Please select at least one object to continue",level:"warning"}},invalidSelection(e){return{code:s.INVALID_SELECTION,message:e?"Invalid selection: "+e:"The selected objects are not valid for this operation",level:"error"}},unsupportedNodeType(e,o){return{code:s.UNSUPPORTED_NODE_TYPE,message:"Unsupported node type: "+e+". Please select a different object.",level:"error",nodeId:o}},processingFailed(e){return{code:s.PROCESSING_FAILED,message:e?"Processing failed: "+e:"Processing failed due to an unexpected error",level:"error"}},missingProperty(e,o){return{code:s.MISSING_PROPERTY,message:"Missing required property: "+e,level:"error",nodeId:o}},unknownError(e){let o=e instanceof Error?e.message:"An unknown error occurred";return{code:s.UNKNOWN_ERROR,message:"Unexpected error: "+o,level:"error"}},permissionDenied(e){return{code:s.PERMISSION_DENIED,message:e?"Permission denied: "+e:"You do not have permission to perform this action",level:"error"}},success(e){return{code:"SUCCESS",message:e,level:"info"}},info(e){return{code:"INFO",message:e,level:"info"}},warning(e){return{code:"WARNING",message:e,level:"warning"}}}});var S={};C(S,{default:()=>v});function v(){c({height:600,width:800}),figma.ui.onmessage=async e=>{if(console.log("Main received message:",e.type),e.type==="SCAN"){figma.ui.postMessage({type:"SCAN_PROGRESS",progress:10});let o=await L();figma.ui.postMessage({type:"SCAN_PROGRESS",progress:100}),figma.ui.postMessage({type:"SCAN_RESULT",data:o})}else if(e.type==="PROCESS")try{let o=await F(e.data);figma.ui.postMessage({type:"PROCESS_RESULT",data:o})}catch(o){console.error("Process failed:",o),figma.ui.postMessage({type:"PROCESS_RESULT",data:{success:!1,issues:[m.unknownError(o)]}})}else e.type==="RESIZE"&&figma.ui.resize(e.width,e.height)}}async function L(){let e=figma.currentPage.selection,o=[];e.length===0&&o.push(m.noSelection()),e.forEach(t=>{t.type==="CONNECTOR"&&o.push(m.unsupportedNodeType(t.type,t.id))});let r={selectionCount:e.length,selectedTypes:e.map(t=>t.type),pageInfo:{name:figma.currentPage.name,nodeCount:figma.currentPage.children.length}};return{success:!x(o),data:r,issues:o,message:`Scanned ${e.length} selected objects`}}async function F(e){let o=[];return await new Promise(t=>setTimeout(t,500)),{success:!0,data:{processed:!0,timestamp:Date.now(),input:e},issues:o,message:"Processing completed successfully"}}var R=i(()=>{"use strict";E();I();N()});var M={"src/main/index.ts--default":(R(),D(S)).default},w="src/main/index.ts--default";M[w]();
